(()=>{"use strict";var e,t,n,r,i,s,l={},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return l[e](n,n.exports,c),n.loaded=!0,n.exports}function a(){}c.m=l,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(i,s,l)=>{var o;l&&((o=[]).d=1);var c,a,u,d=new Set,f=i.exports,h=new Promise(((e,t)=>{u=t,a=e}));h[t]=f,h[e]=e=>(o&&e(o),d.forEach(e),h.catch((e=>{}))),i.exports=h,s((i=>{var s;c=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var s=[];s.d=0,i.then((e=>{l[t]=e,r(s)}),(e=>{l[n]=e,r(s)}));var l={};return l[e]=e=>e(s),l}}var o={};return o[e]=e=>{},o[t]=i,o})))(i);var l=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),a=new Promise((t=>{(s=()=>t(l)).r=0;var n=e=>e!==o&&!d.has(e)&&(d.add(e),e&&!e.d&&(s.r++,e.push(s)));c.map((t=>t[e](n)))}));return s.r?a:l()}),(e=>(e?u(h[n]=e):a(f),r(o)))),o&&(o.d=0)},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>e+"."+e+".js",c.miniCssF=e=>"build/bundle.css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},s="svelte-app:",c.l=(e,t,n,r)=>{if(i[e])i[e].push(t);else{var l,o;if(void 0!==n)for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var d=a[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==s+n){l=d;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.setAttribute("data-webpack",s+n),l.src=e),i[e]=[t];var f=(t,n)=>{l.onerror=l.onload=null,clearTimeout(h);var r=i[e];if(delete i[e],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(n))),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),o&&document.head.appendChild(l)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.v=(e,t,n,r)=>{var i=fetch(c.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(i,r).then((t=>Object.assign(e,t.instance.exports))):i.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e+"../"})(),(()=>{var e={234:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var s=c.p+c.u(t),l=new Error;c.l(s,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",l.name="ChunkLoadError",l.type=i,l.request=s,r[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[s,l,o]=n,a=0;if(s.some((t=>0!==e[t]))){for(r in l)c.o(l,r)&&(c.m[r]=l[r]);o&&o(c)}for(t&&t(n);a<s.length;a++)i=s[a],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunksvelte_app=self.webpackChunksvelte_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();const u=e=>e;function d(e){return e()}function f(){return Object.create(null)}function h(e){e.forEach(d)}function p(e){return"function"==typeof e}function m(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function g(e){return 0===Object.keys(e).length}function b(e,...t){if(null==e)return a;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function v(e,t,n){e.$$.on_destroy.push(b(t,n))}function $(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function y(e){return null==e?"":e}function w(e,t,n){return e.set(n),t}const k="undefined"!=typeof window;let x=k?()=>window.performance.now():()=>Date.now(),_=k?e=>requestAnimationFrame(e):a;const z=new Set;function O(e){z.forEach((t=>{t.c(e)||(z.delete(t),t.f())})),0!==z.size&&_(O)}let S=!1;function A(e,t){e.appendChild(t)}function E(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function X(e){const t=C("style");return function(e,t){A(e.head||e,t),t.sheet}(E(e),t),t.sheet}function D(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode.removeChild(e)}function T(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function P(){return R(" ")}function B(){return R("")}function j(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function N(e){return""===e?null:+e}function F(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function L(e,t){e.value=null==t?"":t}function H(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function K(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function q(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function I(e,t,n){e.classList[n?"add":"remove"](t)}function V(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}const W=new Map;let U,G=0;function J(e,t,n,r,i,s,l,o=0){const c=16.666/r;let a="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*s(e);a+=100*e+`%{${l(r,1-r)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${o}`,f=E(e),{stylesheet:h,rules:p}=W.get(f)||function(e,t){const n={stylesheet:X(t),rules:{}};return W.set(e,n),n}(f,e);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${i}ms 1 both`,G+=1,d}function Q(e){U=e}function Y(){if(!U)throw new Error("Function called outside component initialization");return U}function ee(){const e=Y();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=V(t,n,{cancelable:r});return i.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}const te=[],ne=[],re=[],ie=[],se=Promise.resolve();let le=!1;function oe(e){re.push(e)}function ce(e){ie.push(e)}const ae=new Set;let ue,de=0;function fe(){const e=U;do{for(;de<te.length;){const e=te[de];de++,Q(e),he(e.$$)}for(Q(null),te.length=0,de=0;ne.length;)ne.pop()();for(let e=0;e<re.length;e+=1){const t=re[e];ae.has(t)||(ae.add(t),t())}re.length=0}while(te.length);for(;ie.length;)ie.pop()();le=!1,ae.clear(),Q(e)}function he(e){if(null!==e.fragment){e.update(),h(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(oe)}}function pe(e,t,n){e.dispatchEvent(V(`${t?"intro":"outro"}${n}`))}const me=new Set;let ge;function be(){ge={r:0,c:[],p:ge}}function ve(){ge.r||h(ge.c),ge=ge.p}function $e(e,t){e&&e.i&&(me.delete(e),e.i(t))}function ye(e,t,n,r){if(e&&e.o){if(me.has(e))return;me.add(e),ge.c.push((()=>{me.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const we={duration:0};function ke(e,t,n,r){let i=t(e,n),s=r?0:1,l=null,o=null,c=null;function d(){c&&function(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),G-=i,G||_((()=>{G||(W.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&M(t)})),W.clear())})))}(e,c)}function f(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(t){const{delay:n=0,duration:r=300,easing:p=u,tick:m=a,css:g}=i||we,b={start:x()+n,b:t};t||(b.group=ge,ge.r+=1),l||o?o=b:(g&&(d(),c=J(e,s,t,r,n,p,g)),t&&m(0,1),l=f(b,r),oe((()=>pe(e,t,"start"))),function(e){let t;0===z.size&&_(O),new Promise((n=>{z.add(t={c:e,f:n})}))}((t=>{if(o&&t>o.start&&(l=f(o,r),o=null,pe(e,l.b,"start"),g&&(d(),c=J(e,s,l.b,l.duration,0,p,i.css))),l)if(t>=l.end)m(s=l.b,1-s),pe(e,l.b,"end"),o||(l.b?d():--l.group.r||h(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;s=l.a+l.d*p(e/l.duration),m(s,1-s)}return!(!l&&!o)})))}return{run(e){p(i)?(ue||(ue=Promise.resolve(),ue.then((()=>{ue=null}))),ue).then((()=>{i=i(),m(e)})):m(e)},end(){d(),l=o=null}}}let xe;function _e(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ze(e){e&&e.c()}function Oe(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||oe((()=>{const t=e.$$.on_mount.map(d).filter(p);e.$$.on_destroy?e.$$.on_destroy.push(...t):h(t),e.$$.on_mount=[]})),s.forEach(oe)}function Se(e,t){const n=e.$$;null!==n.fragment&&(h(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(e,t,n,r,i,s,l,o=[-1]){const c=U;Q(e);const u=e.$$={fragment:null,ctx:[],props:s,update:a,not_equal:i,bound:f(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:f(),dirty:o,skip_bound:!1,root:t.target||c.$$.root};l&&l(u.root);let d=!1;if(u.ctx=n?n(e,t.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return u.ctx&&i(u.ctx[t],u.ctx[t]=s)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&(te.push(e),le||(le=!0,se.then(fe)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],u.update(),d=!0,h(u.before_update),u.fragment=!!r&&r(u.ctx),t.target){if(t.hydrate){S=!0;const e=(p=t.target,Array.from(p.childNodes));u.fragment&&u.fragment.l(e),e.forEach(M)}else u.fragment&&u.fragment.c();t.intro&&$e(e.$$.fragment),Oe(e,t.target,t.anchor,t.customElement),S=!1,fe()}var p;Q(c)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(xe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(d).filter(p);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){h(this.$$.on_disconnect)}$destroy(){Se(this,1),this.$destroy=a}$on(e,t){if(!p(t))return a;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!g(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class Ee{$destroy(){Se(this,1),this.$destroy=a}$on(e,t){if(!p(t))return a;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!g(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Xe;!function(e){let t;function n(e,t){const n={x:0,y:0,dez:0,alnum:"",chess_format:""};switch(typeof e+typeof t){case"numbernumber":if(Number.isNaN(e)||Number.isNaN(t)||!Number.isInteger(e)||!Number.isInteger(t)||e>5||e<0||t>5||t<0)throw new Error("Invalid coordinates: "+e+"|"+t);return n.x=e,n.y=t,n.chess_format=["A","B","C","D","E","F"][n.x]+(n.y+1),n.dez=6*t+e,n.alnum=n.dez.toString(36),n;case"numberundefined":case"stringundefined":{let t="number"==typeof e?e:Number.parseInt(e,36);if(Number.isNaN(t)||t>35||t<0)throw new Error("Invalid field index.");return n.dez=t,n.alnum=t.toString(36),n.x=t%6,n.y=(t-n.x)/6,n.chess_format=["A","B","C","D","E","F"][n.x]+(n.y+1),n}default:throw new Error("Invalid format: "+typeof e+typeof t)}}function r(e,n,r,i){if(!e[i.i].includes(n))throw console.log("stellung = ",e,`from = ${n} to = ${r} p = ${i.c}`),new Error(`numposZiehen(${t.c(e)}, ${n}, ${r}, ${i.c}): Der ziehende Spieler p steht nicht auf dem Startfeld.`);const s=e.map((e=>e.filter((e=>e!==n&&e!==r))));return s[i.i].push(r),[s[0].sort(),s[1].sort()]}function i(e,t,n){let r=[];if(!e[n.i].includes(t))throw console.debug("stellung = ",e,` feldindex = ${t} p = ${n.c}`),new Error("zielfelder: Player "+n.c+" steht nicht auf dem Startfeld.");return n.x&&t>29||n.o&&t<6?[]:(e[0].includes(t+6*n.m)||e[1].includes(t+6*n.m)||r.push(t+6*n.m),!(n.x&&t<6||n.o&&t>29)||e[0].includes(t+12*n.m)||e[1].includes(t+12*n.m)||e[0].includes(t+6*n.m)||e[1].includes(t+6*n.m)||r.push(t+12*n.m),(t+(n.m-1)/-2)%6&&e[n.t.i].includes(t+5*n.m)&&r.push(t+5*n.m),(t+(n.m+1)/2)%6&&e[n.t.i].includes(t+7*n.m)&&r.push(t+7*n.m),r)}function s(e,t,n){return i(e,t,n).map((i=>r(e,t,i,n)))}function l(t,n){const r=e.zuegeVonStellung(t,n);if("string"==typeof r)return r;const i=r.map((r=>({from:r.from,to:r.to,ziel:e.numposZiehen(t,r.from,r.to,n)})));return i.length?i:"R"}function o(t,n){let r="number"==typeof a(t,u.X),i="number"==typeof a(t,u.O);return r&&i?(console.error("In der Stellung "+e.convert.c(t)+" haben beide Player das Ziel erreicht. Dies sollte eigentlich nicht eintreten. Bitte überprüfe, ob beim Aufruf von H.zieleVonStellung ein Programmfehler vorliegt. Um die Funktionalität des Programmes zu wahren, wird dies jedoch ignoriert; als Finalcode wird X angegeben."),"X"):r?"X":i?"O":null}function c(e,t){return Math.max.apply(Math,m(e,t).map((e=>e.fortschritt)))>=f(e,t.t)?t.c:Math.max.apply(Math,m(e,t.t).map((e=>e.fortschritt)))>f(e,t)?t.t.c:null}function a(e,t){const n=Math[t.x?"max":"min"].apply(Math,e[t.i]);return t.x&&n>29||t.o&&n<6?n:null}e.codePattern=/^[a-z\d]{0,36}\.[a-z\d]{0,36}$/i,e.startStellung="012345.uvwxyz",function(e){e.n=function(e){return"-"===e?[[0,1,2,3,4,5],[30,31,32,33,34,35]]:e.split(".").map((e=>e.split(""))).map((e=>e.map((e=>Number.parseInt(e,36)))))},e.c=function(e){return e.map((e=>e.map((e=>e.toString(36))).join(""))).join(".")}}(t=e.convert||(e.convert={})),e.fconvert=n,e.playerAufFeld=function(t,n){return t[0].includes(n)?e.Player.X:t[1].includes(n)?e.Player.O:null},e.numposZiehen=r,e.zielfelder=i,e.zieleVonFeld=s,e.zuegeVonStellung=function(e,t){return o(e)||Array.prototype.concat.apply([],e[t.i].map((n=>i(e,n,t).map((e=>({from:n,to:e}))))))},e.zieleVonStellung=function(e,t){let n=o(e);if(n)return n;let r=Array.prototype.concat.apply([],e[t.i].map((n=>s(e,n,t))));return 0===r.length?"R":r},e.getOptions=l,e.getOptions_logfin=function(e,t){let n=l(e,t);if("string"==typeof n)return n;return c(e,t)||n},e.getOptions_preffin=function(e,t){let n=l(e,t);return"string"==typeof n?n:n.filter((e=>c(e.ziel,t.t)===t.c||o(e.ziel,t.t)===t.c)).length?t.c:n},e.gewonnen=o,e.logFin=c,e.winnerFigs=a,e.mirror=function(e){return[e[0].map((e=>e-e%6+(5-e%6))).sort(),e[1].map((e=>e-e%6+(5-e%6))).sort()]};class u{constructor(e){this.o=!(this.x=e),this.c=e?"X":"O",this.i=e?0:1,this.m=e?1:-1}static toggle(e){return e.t}get t(){return this.x?u.O:u.X}zuege(e){return Array.prototype.concat.apply([],e[this.i].map((t=>i(e,t,this).map((e=>({from:t,to:e}))))))}}function d(e,t){const r=2.5-2.5*t.m+n(e).y*t.m;return Math.abs(r-.5)-.5}function f(e,t){return Math.max.apply(Math,e[t.i].map((e=>d(e,t))))}function h(e,t,r){const i=n(t);for(let t=i.y+r.m;t<6&&t>-1;t+=r.m){const s=n(i.x,t);if(e[r.i].includes(s.dez)||e[r.t.i].includes(s.dez))return null;if(0!==i.x&&e[r.t.i].includes(n(i.x-1,t).dez))return null;if(5!==i.x&&e[r.t.i].includes(n(i.x+1,t).dez))return null}return d(t,r)}function p(e,t){const n=[];for(let r=0;r<36;r++){const i=h(e,r,t);"number"==typeof i&&n.push({feld:r,fortschritt:i})}return n}function m(e,t){return p(e,t).filter((n=>e[t.i].includes(n.feld)))}u.X=new u(!0),u.O=new u(!1),e.Player=u,e.testMatCrit=function(e){const t=[];let n=0,r=0;for(;n<7;n++){const i=[];for(;r<7;r++)i[r]=e(n,r);t.push(i)}return t},e.fortschritt=d,e.maxFortschritt=f,e.gruen=h,e.grueneFelder=p,e.freibauern=m,e.deckung=function(e,t){const r=n(t),i=[0,0];return 0!==r.x&&0!==r.y&&e[0].includes(n(r.x-1,r.y-1).dez)&&i[0]++,0!==r.x&&5!==r.y&&e[1].includes(n(r.x-1,r.y+1).dez)&&i[1]++,5!==r.x&&0!==r.y&&e[0].includes(n(r.x+1,r.y-1).dez)&&i[0]++,5!==r.x&&5!==r.y&&e[1].includes(n(r.x+1,r.y+1).dez)&&i[1]++,i},e.complex=function(e){return e[0].filter((e=>!d(e,u.X))).length+e[1].filter((e=>!d(e,u.O))).length}}(Xe||(Xe={}));const De=Xe;var Me;!function(e){class t{constructor(e="Für diese Datenbank wurden keine Informationen zur Verfügung gestellt."){this.info=e,this.c={X:{X:new Set,O:new Set,R:new Set},O:{X:new Set,O:new Set,R:new Set}},this.optionMethod="pure"}preload(){const e="Rusty Togre DB saved as string in format x_x x_o x_r o_x o_o o_r. Content follows here: %#l.f/fl.e/r.9/fr.8###fr.e/fl.k/r.f##".split("%%")[1].split("#");let t=0,n=0;["XX","XO","XR","OX","OO","OR"].forEach(((r,i)=>{e[i].split("/").forEach((e=>{e.match(De.codePattern)?(this.c[r[0]][r[1]].add(e),t++):(console.error("Folgende Stellung konnte nicht aus der Preload-DB geladen werden, weil der Stellungscode ungültig ist: "+e),n++)}))})),console.info(`Preload von ${t} Stellungen erfolgreich. ${n} fehlerhaft.`),n&&console.warn(`Preload: ${n} Stellungscodes fehlerhaft.`)}get(e,t){return this.c[t.c].R.has(e)?"R":this.c[t.c].X.has(e)?"X":this.c[t.c].O.has(e)?"O":null}set(e,t,n){return this.c[t.c][n].add(e),n}calc(e,t,n,r){this.optionMethod=n;const i=De.convert.n(e),s=Date.now(),l=this.len(De.Player.X),o=this.len(De.Player.O),c=this[r?"i_prefdb":"i"](i,t),a={s:e,p:t.c,optionMethod:n,prefdb:r||!1,t:c,time:Date.now()-s,db:{x:this.len(De.Player.X),o:this.len(De.Player.O),xnew:0,onew:0}};return a.db.xnew=a.db.x-l,a.db.onew=a.db.o-o,a}i(e,t){const n=De.convert.c(e);let r=this.get(De.convert.c(e),t);if(r)return r;{r=t.t.c;const i=this.executeOptionMethod(e,t,!1);if("string"==typeof i)r=i;else for(let e=0;e<i.length;e++){const n=this.i(i[e].ziel,t.t);if(n===t.c){r=t.c;break}"R"!==n||(r="R")}return this.set(n,t,r)}}i_prefdb(e,t){const n=De.convert.c(e),r=this.executeOptionMethod(e,t,!1);let i=t.t.c;if("string"==typeof r)i=r;else{const e=[];for(;r[0];){const s=this.get(De.convert.c(r[0].ziel),t.t);if(s){if(s===t.c)return i=t.c,this.set(n,t,i);"R"===s&&(i="R")}else e.push(r[0]);r.shift()}for(;e[0];){const n=this.i_prefdb(e[0].ziel,t.t);if(e.shift(),n===t.c){i=t.c;break}"R"!==n||(i="R")}}return this.set(n,t,i)}executeOptionMethod(e,t,n){return("preffin"===this.optionMethod?De.getOptions_preffin:"logfin"===this.optionMethod?De.getOptions_logfin:De.getOptions)(e,t)}clear(){this.c.X.X.clear(),this.c.X.O.clear(),this.c.X.R.clear(),this.c.O.X.clear(),this.c.O.O.clear(),this.c.O.R.clear()}len(e,t){return e?t?this.c[e.c][t].size:this.c[e.c].X.size+this.c[e.c].O.size+this.c[e.c].R.size:t?this.len(De.Player.X,t)+this.len(De.Player.O,t):this.len(De.Player.X)+this.len(De.Player.O)}stringify(e){const t={X:{X:[],O:[],R:[]},O:{X:[],O:[],R:[]}};this.c.X.X.forEach((e=>t.X.X.push(e))),this.c.X.R.forEach((e=>t.X.R.push(e))),this.c.X.O.forEach((e=>t.X.O.push(e))),this.c.O.X.forEach((e=>t.O.X.push(e))),this.c.O.R.forEach((e=>t.O.R.push(e))),this.c.O.O.forEach((e=>t.O.O.push(e)));const n={kommentar:e,zeitstempel:String(new Date),eintraege:this.len(),zzz:{X:{X:t.X.X.join(","),O:t.X.O.join(","),R:t.X.R.join(",")},O:{X:t.O.X.join(","),O:t.O.O.join(","),R:t.O.R.join(",")}}};return JSON.stringify(n)}}e.DB=t,e.stdDB=new t("Die Standard-Datenbank, die im Namensraum T gesichert wird."),e.rustyTogre=async function(e,t){return["O","R","X"][(await c.e(304).then(c.bind(c,304))).TogreCalculator.new().calc(De.convert.c(e),t.c)+1]}}(Me||(Me={}));const Te=Me,Ce=[];function Re(e,t=a){let n;const r=new Set;function i(t){if(m(e,t)&&(e=t,n)){const t=!Ce.length;for(const t of r)t[1](),Ce.push(t,e);if(t){for(let e=0;e<Ce.length;e+=2)Ce[e][0](Ce[e+1]);Ce.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,l=a){const o=[s,l];return r.add(o),1===r.size&&(n=t(i)||a),s(e),()=>{r.delete(o),0===r.size&&(n(),n=null)}}}}function Pe(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,s=t.length<2;return l=e=>{let n=!1;const l=[];let o=0,c=a;const u=()=>{if(o)return;c();const n=t(r?l[0]:l,e);s?e(n):c=p(n)?n:a},d=i.map(((e,t)=>b(e,(e=>{l[t]=e,o&=~(1<<t),n&&u()}),(()=>{o|=1<<t}))));return n=!0,u(),function(){h(d),c()}},{subscribe:Re(n,l).subscribe};var l}const Be=Re(-1),je=Re([[0,1,2,3,4,5],[30,31,32,33,34,35]]),Ze=Re(De.Player.X),Ne=Pe([je,Ze],(([e,t])=>{const n=De.zieleVonStellung(e,t);return"string"==typeof n?n:""})),Fe=Re("spiel"),Le=Re(!1),He=Re(!1),Ke=Re(!1),qe=Re("std"),Ie=Re(!0),Ve=Re(!1),We=Pe([Ve,qe],(([e,t])=>e||"std"===t)),Ue=Re(""),Ge=Re(""),Je=Re(""),Qe=Re(!0),Ye=Re(1),et=Pe([Ne,Ue,Ge,Je,Ze,Le,He],(([e,t,n,r,i,s,l])=>{if(s)return"Statistische Auswertung läuft.";if(l)return"TOGRE-Berechnung läuft.";switch(e){case"R":return"Spiel endet im Remis.";case"X":return"Spieler X gewinnt.";case"O":return"Spieler O gewinnt.";default:switch(r){case"O":return`Automat '${n}' arbeitet.`;case"X":return`Automat '${t}' arbeitet.`;default:return"Bereit: Spieler "+i.c+" ist am Zug."}}})),tt=Pe([Ne,Je,Le,He],(([e,t,n,r])=>t&&e?console.error("Aus der Ableitungsfunktion derived(state): Ein Automat arbeitet, obwohl das Spiel final ist. Unbedingt prüfen! Hier muss ein Programmfehler vorliegen! ("+t+", "+e+")"):t||n||r?"aktiv":e?"ende":"bereit")),nt=Re("none"),rt={X:"",O:""};Ue.subscribe((e=>rt.X=e)),Ge.subscribe((e=>rt.O=e));const{subscribe:it,set:st,update:lt}=Re([]),ot=(e,t)=>lt((n=>[{stellung:De.convert.c(e),amZug:t.c,auto:rt[t.c]}].concat(n)));function ct(e,t,n){const r=e.slice();return r[20]=t[n],r}function at(e){let t,n=r()+"";function r(){return e[16](e[20])}return{c(){t=R(n)},m(e,n){D(e,t,n)},p(i,s){e=i,512&s&&n!==(n=r()+"")&&F(t,n)},d(e){e&&M(t)}}}function ut(e){let t,n,r,i,s="std"!==e[12]&&at(e);function l(){return e[17](e[20])}function o(){return e[18](e[20])}return{c(){t=C("div"),s&&s.c(),n=P(),I(t,"feld",!0),I(t,"feldDark",e[20]%2==((e[20]-e[20]%6)/2%2?0:1)),I(t,"feldSelected",e[4]===e[20]),I(t,"feldX",e[1][0].includes(e[20])),I(t,"feldO",e[1][1].includes(e[20])),I(t,"feldAmZug",e[1][0].includes(e[20])&&e[2]||e[1][1].includes(e[20])&&e[3]),I(t,"vorschlag",e[5]&&e[11].includes(e[20]))},m(c,a){D(c,t,a),s&&s.m(t,null),A(t,n),r||(i=[j(t,"click",l),j(t,"mouseenter",o),j(t,"mouseleave",e[19])],r=!0)},p(r,i){"std"!==(e=r)[12]?s?s.p(e,i):(s=at(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),0&i&&I(t,"feldDark",e[20]%2==((e[20]-e[20]%6)/2%2?0:1)),16&i&&I(t,"feldSelected",e[4]===e[20]),2&i&&I(t,"feldX",e[1][0].includes(e[20])),2&i&&I(t,"feldO",e[1][1].includes(e[20])),14&i&&I(t,"feldAmZug",e[1][0].includes(e[20])&&e[2]||e[1][1].includes(e[20])&&e[3]),2080&i&&I(t,"vorschlag",e[5]&&e[11].includes(e[20]))},d(e){e&&M(t),s&&s.d(),r=!1,h(i)}}}function dt(e){let t;return{c(){t=C("link"),Z(t,"rel","stylesheet"),Z(t,"href","./styles/brett/modernTheme.css")},m(e,n){D(e,t,n)},d(e){e&&M(t)}}}function ft(e){let t,n,r,i,s=[...Array(36).keys()],l=[];for(let t=0;t<s.length;t+=1)l[t]=ut(ct(e,s,t));let o=!e[6]&&dt();return{c(){t=C("div");for(let e=0;e<l.length;e+=1)l[e].c();n=P(),r=C("link"),o&&o.c(),i=B(),Z(t,"id","brett__"),H(t,"width",e[7]+"px"),H(t,"height",e[7]+"px"),I(t,"disabled",e[8]),I(t,"turn",e[10]),Z(r,"rel","stylesheet"),Z(r,"href","./styles/brett/general.css")},m(e,s){D(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);D(e,n,s),A(document.head,r),o&&o.m(document.head,null),A(document.head,i)},p(e,[n]){if(14911&n){let r;for(s=[...Array(36).keys()],r=0;r<s.length;r+=1){const i=ct(e,s,r);l[r]?l[r].p(i,n):(l[r]=ut(i),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}128&n&&H(t,"width",e[7]+"px"),128&n&&H(t,"height",e[7]+"px"),256&n&&I(t,"disabled",e[8]),1024&n&&I(t,"turn",e[10]),e[6]?o&&(o.d(1),o=null):o||(o=dt(),o.c(),o.m(i.parentNode,i))},i:a,o:a,d(e){e&&M(t),T(l,e),e&&M(n),M(r),o&&o.d(e),M(i)}}}function ht(e,t,n){let r,i,s,l;v(e,Ie,(e=>n(15,s=e))),v(e,qe,(e=>n(12,l=e)));const o=ee();let{stellung:c=[[0,1,2,3,4,5],[30,31,32,33,34,35]]}=t,{xAmZug:a=!0}=t,{oAmZug:u=!0}=t,{selected:d=-1}=t,{vorschlag:f=!0}=t,{classic:h=!0}=t,{size:p=400}=t,{hover:m=-1}=t,{disabled:g=!1}=t,{feldnummern:b="alnum"}=t,{turn:$=!1}=t;return e.$$set=e=>{"stellung"in e&&n(1,c=e.stellung),"xAmZug"in e&&n(2,a=e.xAmZug),"oAmZug"in e&&n(3,u=e.oAmZug),"selected"in e&&n(4,d=e.selected),"vorschlag"in e&&n(5,f=e.vorschlag),"classic"in e&&n(6,h=e.classic),"size"in e&&n(7,p=e.size),"hover"in e&&n(0,m=e.hover),"disabled"in e&&n(8,g=e.disabled),"feldnummern"in e&&n(9,b=e.feldnummern),"turn"in e&&n(10,$=e.turn)},e.$$.update=()=>{18&e.$$.dirty&&n(14,r=De.playerAufFeld(c,d)),49170&e.$$.dirty&&n(11,i=s&&d+1?De.zielfelder(c,d,r):[])},[m,c,a,u,d,f,h,p,g,b,$,i,l,o,r,s,function(e){const t=De.fconvert(e);switch(b){case"alnum":return t.alnum;case"coord":return t.x+"x"+t.y;case"chess":return t.chess_format;case"num":return t.dez;default:return""}},e=>o("feldclick",{feldindex:e}),e=>n(0,m=e),()=>n(0,m=-1)]}const pt=class extends Ee{constructor(e){super(),Ae(this,e,ht,ft,m,{stellung:1,xAmZug:2,oAmZug:3,selected:4,vorschlag:5,classic:6,size:7,hover:0,disabled:8,feldnummern:9,turn:10})}};function mt(e){let t,n,r,i;function s(t){e[14](t)}function l(t){e[15](t)}let o={stellung:e[7],vorschlag:e[2],classic:e[3],size:e[4],xAmZug:e[9].x,oAmZug:e[9].o,disabled:e[8],feldnummern:e[5],turn:e[6]};return void 0!==e[1]&&(o.hover=e[1]),void 0!==e[0]&&(o.selected=e[0]),t=new pt({props:o}),ne.push((()=>_e(t,"hover",s))),ne.push((()=>_e(t,"selected",l))),t.$on("feldclick",e[16]),{c(){ze(t.$$.fragment)},m(e,n){Oe(t,e,n),i=!0},p(e,[i]){const s={};128&i&&(s.stellung=e[7]),4&i&&(s.vorschlag=e[2]),8&i&&(s.classic=e[3]),16&i&&(s.size=e[4]),512&i&&(s.xAmZug=e[9].x),512&i&&(s.oAmZug=e[9].o),256&i&&(s.disabled=e[8]),32&i&&(s.feldnummern=e[5]),64&i&&(s.turn=e[6]),!n&&2&i&&(n=!0,s.hover=e[1],ce((()=>n=!1))),!r&&1&i&&(r=!0,s.selected=e[0],ce((()=>r=!1))),t.$set(s)},i(e){i||($e(t.$$.fragment,e),i=!0)},o(e){ye(t.$$.fragment,e),i=!1},d(e){Se(t,e)}}}function gt(e,t,n){let r,i,s,l,o,c,a;v(e,je,(e=>n(7,s=e))),v(e,Ze,(e=>n(9,l=e))),v(e,We,(e=>n(18,o=e))),v(e,tt,(e=>n(12,c=e))),v(e,Ne,(e=>n(13,a=e)));const u=ee();let{selected:d=-1}=t,{vorschlag:f=!0}=t,{classic:h=!0}=t,{size:p=400}=t,{hover:m=-1}=t,{feldnummern:g="alnum"}=t,{turn:b=!1}=t;function $(e){r||(d===e?n(0,d=-1):d+1?o&&(s[0].includes(d)&&s[0].includes(e)||s[1].includes(d)&&s[1].includes(e))?n(0,d=e):o&&!De.zielfelder(s,d,i).includes(e)?console.warn("Der ausgewählte Zug ist unzulässig und wird ignoriert. Um ungültige Züge zu erlauben, wechsele in die Entwickler- oder Programmiereransicht und deaktiviere 'Ungültige Züge sperren'."):(w(je,s=De.numposZiehen(s,d,e,i),s),w(Ze,l=l.t,l),n(0,d=-1),ot(s,l),u("userzug")):function(e,t){return l===De.playerAufFeld(e,t)}(s,e)?n(0,d=e):console.debug("Feld konnte nicht ausgewählt werden."))}return ot(s,l),e.$$set=e=>{"selected"in e&&n(0,d=e.selected),"vorschlag"in e&&n(2,f=e.vorschlag),"classic"in e&&n(3,h=e.classic),"size"in e&&n(4,p=e.size),"hover"in e&&n(1,m=e.hover),"feldnummern"in e&&n(5,g=e.feldnummern),"turn"in e&&n(6,b=e.turn)},e.$$.update=()=>{12288&e.$$.dirty&&n(8,r=!!a||"aktiv"===c),129&e.$$.dirty&&(i=De.playerAufFeld(s,d))},[d,m,f,h,p,g,b,s,r,l,$,function(){lt((e=>{if(e.length<2)return e;{let t;for(t=1;t+1<e.length&&e[t].auto;t++);return je.set(De.convert.n(e[t].stellung)),Ze.set(De.Player[e[t].amZug]),e.slice(t)}}))},c,a,function(e){m=e,n(1,m)},function(e){d=e,n(0,d)},e=>$(e.detail.feldindex)]}const bt=class extends Ee{constructor(e){super(),Ae(this,e,gt,mt,m,{selected:0,vorschlag:2,classic:3,size:4,hover:1,feldnummern:5,turn:6,undo:11})}get undo(){return this.$$.ctx[11]}};function vt(e){let t,n,r=De.convert.c(e[0])+"";return{c(){t=C("span"),n=R(r),Z(t,"title","Stellung"),Z(t,"class","svelte-1xqigge")},m(e,r){D(e,t,r),A(t,n)},p(e,[t]){1&t&&r!==(r=De.convert.c(e[0])+"")&&F(n,r)},i:a,o:a,d(e){e&&M(t)}}}function $t(e,t,n){let{stellung:r}=t;return e.$$set=e=>{"stellung"in e&&n(0,r=e.stellung)},[r]}const yt=class extends Ee{constructor(e){super(),Ae(this,e,$t,vt,m,{stellung:0})}};function wt(e){let t,n,r,i,s;return n=new yt({props:{stellung:e[7]}}),{c(){t=C("div"),ze(n.$$.fragment),Z(t,"id","stellung"),Z(t,"class","svelte-7yxej9")},m(l,o){D(l,t,o),Oe(n,t,null),r=!0,i||(s=j(t,"click",e[9]),i=!0)},p(e,t){const r={};128&t&&(r.stellung=e[7]),n.$set(r)},i(e){r||($e(n.$$.fragment,e),r=!0)},o(e){ye(n.$$.fragment,e),r=!1},d(e){e&&M(t),Se(n),i=!1,s()}}}function kt(e){let t,n,r,i=_t(e[1])+"",s=_t(e[2])+"";return{c(){t=C("div"),n=P(),r=C("div"),Z(t,"id","selected"),Z(t,"class","svelte-7yxej9"),Z(r,"id","hover"),Z(r,"class","svelte-7yxej9")},m(e,l){D(e,t,l),t.innerHTML=i,D(e,n,l),D(e,r,l),r.innerHTML=s},p(e,n){2&n&&i!==(i=_t(e[1])+"")&&(t.innerHTML=i),4&n&&s!==(s=_t(e[2])+"")&&(r.innerHTML=s)},d(e){e&&M(t),e&&M(n),e&&M(r)}}}function xt(e){let t,n,r,i,s,l,o,c,a,u,d,f,h,p=e[8].c+"",m=e[0].replace(" ","&nbsp;")+"",g="std"!==e[5]&&wt(e),b="std"!==e[5]&&kt(e);return{c(){t=C("div"),g&&g.c(),n=P(),r=C("div"),i=R(p),l=P(),o=C("div"),c=C("span"),a=P(),b&&b.c(),Z(r,"id","amZug"),Z(r,"title",s="std"===e[5]?"Am Zug ist "+e[8].c:"Tauschen durch Klicken"),Z(r,"class","svelte-7yxej9"),Z(o,"id","action"),Z(o,"class","svelte-7yxej9"),I(o,"std","std"===e[5]),Z(t,"id","__"),Z(t,"class",u=y(e[4])+" svelte-7yxej9")},m(s,u){D(s,t,u),g&&g.m(t,null),A(t,n),A(t,r),A(r,i),A(t,l),A(t,o),A(o,c),c.innerHTML=m,A(t,a),b&&b.m(t,null),d=!0,f||(h=j(r,"click",e[10]),f=!0)},p(e,[l]){"std"!==e[5]?g?(g.p(e,l),32&l&&$e(g,1)):(g=wt(e),g.c(),$e(g,1),g.m(t,n)):g&&(be(),ye(g,1,1,(()=>{g=null})),ve()),(!d||256&l)&&p!==(p=e[8].c+"")&&F(i,p),(!d||288&l&&s!==(s="std"===e[5]?"Am Zug ist "+e[8].c:"Tauschen durch Klicken"))&&Z(r,"title",s),(!d||1&l)&&m!==(m=e[0].replace(" ","&nbsp;")+"")&&(c.innerHTML=m),(!d||32&l)&&I(o,"std","std"===e[5]),"std"!==e[5]?b?b.p(e,l):(b=kt(e),b.c(),b.m(t,null)):b&&(b.d(1),b=null),(!d||16&l&&u!==(u=y(e[4])+" svelte-7yxej9"))&&Z(t,"class",u)},i(e){d||($e(g),d=!0)},o(e){ye(g),d=!1},d(e){e&&M(t),g&&g.d(),b&&b.d(),f=!1,h()}}}function _t(e){if(e+1){let t=e%6;return`'${e.toString(36).toUpperCase()}'|${(e<10?"&nbsp;":"")+e}|${t}x${(e-t)/6}`}return"&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;"}function zt(e,t,n){let r,i,s,l,o;v(e,tt,(e=>n(4,r=e))),v(e,qe,(e=>n(5,i=e))),v(e,nt,(e=>n(6,s=e))),v(e,je,(e=>n(7,l=e))),v(e,Ze,(e=>n(8,o=e)));let{action:c=""}=t,{selected:a=-1}=t,{hover:u=-1}=t,{tauschen:d}=t;return e.$$set=e=>{"action"in e&&n(0,c=e.action),"selected"in e&&n(1,a=e.selected),"hover"in e&&n(2,u=e.hover),"tauschen"in e&&n(3,d=e.tauschen)},[c,a,u,d,r,i,s,l,o,()=>{"aktiv"!==r&&w(nt,s="stellung",s)},()=>"std"===i||"aktiv"===r?void 0:d()]}const Ot=class extends Ee{constructor(e){super(),Ae(this,e,zt,xt,m,{action:0,selected:1,hover:2,tauschen:3})}};function St(e){const t=e-1;return t*t*t+1}function At(e,{delay:t=0,duration:n=400,easing:r=u}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>"opacity: "+e*i}}function Et(e,{delay:t=0,duration:n=400,easing:r=St,x:i=0,y:s=0,opacity:l=0}={}){const o=getComputedStyle(e),c=+o.opacity,a="none"===o.transform?"":o.transform,u=c*(1-l);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*i}px, ${(1-e)*s}px);\n\t\t\topacity: ${c-u*t}`}}function Xt(e){let t,n,r,i,s,l,o,c,a,u,d;const f=e[4].default,p=function(e,t,n,r){if(e){const r=$(e,t,n,null);return e[0](r)}}(f,e,e[3]);return{c(){t=C("div"),r=P(),i=C("button"),i.textContent="Schließen",l=P(),o=C("div"),p&&p.c(),Z(t,"id","bg"),Z(t,"class","svelte-1y8mya8"),Z(i,"class","svelte-1y8mya8"),H(o,"width","number"==typeof e[0]?e[0]+"px":"max"===e[0]?"calc(100% - 200px)":e[0]),Z(o,"id","content"),Z(o,"class","svelte-1y8mya8")},m(n,s){D(n,t,s),D(n,r,s),D(n,i,s),D(n,l,s),D(n,o,s),p&&p.m(o,null),a=!0,u||(d=[j(window,"keyup",e[5]),j(t,"click",e[6]),j(i,"click",e[7])],u=!0)},p(e,[t]){p&&p.p&&(!a||8&t)&&function(e,t,n,r,i,s){if(i){const l=$(t,n,r,s);e.p(l,i)}}(p,f,e,e[3],a?function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(f,e[3],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[3]),null),(!a||1&t)&&H(o,"width","number"==typeof e[0]?e[0]+"px":"max"===e[0]?"calc(100% - 200px)":e[0])},i(e){a||(oe((()=>{n||(n=ke(t,At,{duration:200},!0)),n.run(1)})),oe((()=>{s||(s=ke(i,At,{duration:100},!0)),s.run(1)})),$e(p,e),oe((()=>{c||(c=ke(o,Et,{y:-40,duration:200},!0)),c.run(1)})),a=!0)},o(e){n||(n=ke(t,At,{duration:200},!1)),n.run(0),s||(s=ke(i,At,{duration:100},!1)),s.run(0),ye(p,e),c||(c=ke(o,Et,{y:-40,duration:200},!1)),c.run(0),a=!1},d(e){e&&M(t),e&&n&&n.end(),e&&M(r),e&&M(i),e&&s&&s.end(),e&&M(l),e&&M(o),p&&p.d(e),e&&c&&c.end(),u=!1,h(d)}}}function Dt(e,t,n){let r;v(e,nt,(e=>n(1,r=e)));let{$$slots:i={},$$scope:s}=t,{width:l="max"}=t;const o=ee();return e.$$set=e=>{"width"in e&&n(0,l=e.width),"$$scope"in e&&n(3,s=e.$$scope)},[l,r,o,s,i,e=>{"Escape"===e.key?w(nt,r="none",r):"Enter"===e.key&&o("enter",{})},()=>w(nt,r="none",r),()=>w(nt,r="none",r)]}const Mt=class extends Ee{constructor(e){super(),Ae(this,e,Dt,Xt,m,{width:0})}};function Tt(e){let t,n,r,i,s,l,o,c,a,u,d,f,p,m,g,b=De.convert.c(e[2])+"";return{c(){t=C("h2"),t.textContent="Stellungseingabe",n=P(),r=C("h4"),i=R("Aktuell: "),s=R(b),l=P(),o=C("span"),o.textContent="Eingabe:",c=P(),a=C("input"),u=P(),d=C("button"),f=R("Anwenden"),Z(a,"type","text"),d.disabled=p=!e[0].match(De.codePattern)},m(h,p){D(h,t,p),D(h,n,p),D(h,r,p),A(r,i),A(r,s),D(h,l,p),D(h,o,p),D(h,c,p),D(h,a,p),e[5](a),L(a,e[0]),D(h,u,p),D(h,d,p),A(d,f),m||(g=[j(a,"input",e[6]),j(a,"input",e[4]),j(d,"click",e[3])],m=!0)},p(e,t){4&t&&b!==(b=De.convert.c(e[2])+"")&&F(s,b),1&t&&a.value!==e[0]&&L(a,e[0]),1&t&&p!==(p=!e[0].match(De.codePattern))&&(d.disabled=p)},d(i){i&&M(t),i&&M(n),i&&M(r),i&&M(l),i&&M(o),i&&M(c),i&&M(a),e[5](null),i&&M(u),i&&M(d),m=!1,h(g)}}}function Ct(e){let t,n;return t=new Mt({props:{width:500,$$slots:{default:[Tt]},$$scope:{ctx:e}}}),t.$on("enter",e[3]),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},p(e,[n]){const r={};519&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Rt(e,t,n){let r,i,s;var l;v(e,je,(e=>n(2,r=e))),v(e,Ze,(e=>n(7,i=e))),v(e,nt,(e=>n(8,s=e))),l=()=>{o.focus(),o.select()},Y().$$.on_mount.push(l);let o,c=De.convert.c(r);return[c,o,r,function(){if(!c.match(De.codePattern))return!1;w(je,r=De.convert.n(c),r),w(nt,s="none",s),ot(r,i)},function(){if(c.includes("-"))n(0,c="012345.uvwxyz");else{let e=[];n(0,c=c.split("").filter(((t,n)=>!!t.match(/[a-z\d\.]/i)&&!e.includes(t)&&!!e.push(t))).join(""))}},function(e){ne[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},function(){c=this.value,n(0,c)}]}const Pt=class extends Ee{constructor(e){super(),Ae(this,e,Rt,Ct,m,{})}};function Bt(e){let t,n,r;return{c(){t=C("h3"),t.textContent="Das Spiel endet im",n=P(),r=C("h1"),r.textContent="Remis."},m(e,i){D(e,t,i),D(e,n,i),D(e,r,i)},p:a,d(e){e&&M(t),e&&M(n),e&&M(r)}}}function jt(e){let t,n,r,i;return{c(){t=C("h1"),n=R(e[0]),r=P(),i=C("h3"),i.textContent="hat gewonnen."},m(e,s){D(e,t,s),A(t,n),D(e,r,s),D(e,i,s)},p(e,t){1&t&&F(n,e[0])},d(e){e&&M(t),e&&M(r),e&&M(i)}}}function Zt(e){let t,n,r,i,s,l,o,c,a;function u(e,t){return"X"===e[0]||"O"===e[0]?jt:Bt}let d=u(e),f=d(e);return{c(){t=C("div"),n=C("h1"),n.textContent="🎉",r=P(),f.c(),i=P(),s=C("button"),s.textContent="Zurück zur Startstellung",l=P(),o=C("button"),o.textContent="Okay!",H(t,"text-align","center")},m(u,d){D(u,t,d),A(t,n),A(t,r),f.m(t,null),D(u,i,d),D(u,s,d),D(u,l,d),D(u,o,d),c||(a=[j(s,"click",e[4]),j(o,"click",e[3])],c=!0)},p(e,n){d===(d=u(e))&&f?f.p(e,n):(f.d(1),f=d(e),f&&(f.c(),f.m(t,null)))},d(e){e&&M(t),f.d(),e&&M(i),e&&M(s),e&&M(l),e&&M(o),c=!1,h(a)}}}function Nt(e){let t,n;return t=new Mt({props:{width:300,$$slots:{default:[Zt]},$$scope:{ctx:e}}}),t.$on("enter",e[3]),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},p(e,[n]){const r={};71&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Ft(e,t,n){let r,i,s;v(e,nt,(e=>n(5,r=e))),v(e,je,(e=>n(1,i=e))),v(e,Ze,(e=>n(2,s=e)));let{final:l="R"}=t;function o(){w(nt,r="none",r)}return l||o(),e.$$set=e=>{"final"in e&&n(0,l=e.final)},[l,i,s,o,()=>{w(je,i=De.convert.n(De.startStellung),i),w(Ze,s=De.Player.X,s),ot(i,s),o()}]}const Lt=class extends Ee{constructor(e){super(),Ae(this,e,Ft,Nt,m,{final:0})}};function Ht(e){if(e.length)return e[Math.floor(Math.random()*e.length)]}const Kt=["rt","rtf","sea","kea400_sea","ezza100","ezza400","hybrid_TE","kea600_sea","trs_mat"],qt=(e,t)=>Ht(t.filter((t=>De.zieleVonStellung(t.ziel,e.t)===e.c))),It=e=>Ht(e),Vt={rt:(e,t,n,r)=>It(n),rtf:(e,t,n,r)=>qt(t,n)||It(n),sea(e,t,n){{const e=qt(t,n);if(e)return e}{const r=It(n.filter((n=>e[t.t.i].includes(n.to))));if(r)return r}return It(n)},keaBase(e,t,n,r){let i=Date.now();const s=(null==r?void 0:r.spiele)||100,l=(null==r?void 0:r.autocode)||"rtf",o=(null==r?void 0:r.autodetail)||{},c=n.map((e=>{const n=new Jt(e.ziel,t.t,[l,l],[o,o],s,"keaBase stat");return t.x?n.fx:n.fo}));let a=Math.max.apply(Math,c);return console.log("Fertig nach"+(Date.now()-i)),It(n.filter(((e,t)=>c[t]===a)))},ezza100:(e,t,n)=>Vt.keaBase(e,t,n,{spiele:100,autocode:"rtf",autodetail:{}}),ezza400:(e,t,n)=>Vt.keaBase(e,t,n,{spiele:400,autocode:"rtf",autodetail:{}}),kea400_sea:(e,t,n)=>Vt.keaBase(e,t,n,{spiele:400,autocode:"sea",autodetail:{}}),kea600_sea:(e,t,n)=>Vt.keaBase(e,t,n,{spiele:800,autocode:"sea",autodetail:{}}),hybrid_TE(e,t,n){if(De.complex(e)>8)return Vt.kea400_sea(e,t,n);{console.log("Spiele TOGRE-vollständig");const r=Te.stdDB.calc(De.convert.c(e),t,"pure",!0).t;console.log(r);const i=Wt(n,t);return i[1]===t.c?It(i[0]):Vt.kea400_sea(e,t,i[0])}},trs_mat(e,t,n){let r=qt(t,n);if(r)return r;function i(e,t,n){let r=De.zieleVonStellung(e,t);switch(r){case"X":return 13;case"O":return-13;case"R":return 0;default:if(n){const e=r.map((e=>i(e,t.t,n-1)));return(t.x?Math.max:Math.min).apply(Math,e)}return e[0].length-e[1].length}}let s=n.map((e=>({opt:e,score:i(e.ziel,t.t,4)})));return console.log(s.map((e=>`${e.opt.from} - ${e.opt.to} : ${e.score}`))),s.reduce(((e,n)=>t.x&&e.score>n.score||t.o&&e.score<n.score?e:t.x&&e.score<n.score||t.o&&e.score>n.score||Math.random()<.5?n:e)).opt}};function Wt(e,t){const n=[],r=[],i=[];for(let s of e){const e=Te.stdDB.get(De.convert.c(s.ziel),t.t);e===t.c&&n.push(s),e===t.t.c?i.push(s):r.push(s)}const s=n.length?[n,t.c]:r.length?[r,"R"]:[i,t.t.c];if(s[0].length)return s;throw console.error(e,t),new Error("bestFraction() darf noch kein empty array returnen!")}const Ut={rt:{display:!1,title:"Random Typenberger",description:"Führt einen zufälligen Zug aus.",detailKeys:[],detailTypes:[]},rtf:{display:!0,title:"Random Typenberger mit Finalfunktion",description:"Prüft, ob ein Sieg mit einem Zug möglich ist. Führt sonst einen zufälligen Zug aus."},sea:{display:!0,title:"Schrittweise entwickelter Kriterienautomat",description:"Hier werden schrittweise Kriterien implementiert."},kea400_sea:{display:!0,title:"KEA400 mit SEA",description:"Kriterialempirischer Automat (KEA), der 400 mal SEA gegen sich selbst antreten lässt, um statistische Gewinnchancen auszuwerten."},kea600_sea:{display:!0,title:"KEA600 mit SEA",description:"Kriterialempirischer Automat (KEA), der 600 mal SEA gegen sich selbst antreten lässt, um statistische Gewinnchancen auszuwerten."},ezza100:{display:!0,title:"Empirischer Zufall-Zufall-Automat (100)",description:"Lässt 100 mal rtf gegen sich selbst antreten."},ezza400:{display:!0,title:"Empirischer Zufall-Zufall-Automat (400)",description:"Lässt 400 mal rtf gegen sich selbst antreten."},hybrid_TE:{display:!0,title:"Hybridautomat: TOGRE+Empirik",description:"Spielt zunächst empirisch, später mit TOGRE-vollständig."},trs_mat:{display:!0,title:"Materieler TRS-Automat",description:"Absolut tiefenlimitiertes Scoring auf Grundlage des Figurenüberhangs."}};class Gt{constructor(e,t){this.stellungen=[],this.start=e,this.startPlayer=t,this.add(e)}get len(){return this.stellungen.length}get final(){const e=De.zieleVonStellung(this.last,this.p);return"string"==typeof e?e:null}get p(){return this.stellungen.length%2?this.startPlayer:this.startPlayer.t}get last(){return this.stellungen[this.stellungen.length-1]}add(e){return this.stellungen.push(e)}}class Jt{constructor(e,t,n,r,i=20,s){for(this.start=e,this.startPlayer=t,this.kommentar=s,this.spiele=[];i;i--){const e=new Gt(this.start,t);for(;!e.final;)e.add(Qt(e.last,e.p,n[e.p.i],r[e.p.i]).ziel);this.spiele.push(e)}const l=this.spiele.map((e=>e.len));this.maxlen=Math.max.apply(null,l),this.minlen=Math.min.apply(null,l),this.avlen=l.reduce(((e,t)=>e+t))/l.length;const o=this.spiele.filter((e=>"X"===e.final)).length,c=this.spiele.filter((e=>"O"===e.final)).length,a=this.spiele.filter((e=>"R"===e.final)).length;this.fx=100*o/this.spiele.length,this.fo=100*c/this.spiele.length,this.fr=100*a/this.spiele.length}}function Qt(e,t,n,r){const i=De.getOptions(e,t);if("string"==typeof i)throw new Error("runSync bzw. ein Automat wurde für eine syntaktisch finale Stellung aufgerufen. Das sollte vermieden werden.");const s=Vt[n](e,t,i,r);if(!s)throw new Error("Der Automat antwortet nicht.");return s}function Yt(e,t,n){const r=e.slice();return r[21]=t[n],r}function en(e,t,n){const r=e.slice();return r[21]=t[n],r}function tn(e){let t,n=Ut[e[21]].display&&function(e){let t,n,r,i,s=e[21]+"";return{c(){t=C("option"),n=R(s),t.__value=r=e[21],t.value=t.__value,Z(t,"title",i=Ut[e[21]].title)},m(e,r){D(e,t,r),A(t,n)},p:a,d(e){e&&M(t)}}}(e);return{c(){n&&n.c(),t=B()},m(e,r){n&&n.m(e,r),D(e,t,r)},p(e,t){Ut[e[21]].display&&n.p(e,t)},d(e){n&&n.d(e),e&&M(t)}}}function nn(e){let t,n=Ut[e[21]].display&&function(e){let t,n,r,i,s=e[21]+"";return{c(){t=C("option"),n=R(s),t.__value=r=e[21],t.value=t.__value,Z(t,"title",i=Ut[e[21]].title)},m(e,r){D(e,t,r),A(t,n)},p:a,d(e){e&&M(t)}}}(e);return{c(){n&&n.c(),t=B()},m(e,r){n&&n.m(e,r),D(e,t,r)},p(e,t){Ut[e[21]].display&&n.p(e,t)},d(e){n&&n.d(e),e&&M(t)}}}function rn(e){let t,n,r,i,s;return{c(){t=C("button"),t.textContent="Automaten jetzt ziehen lassen",n=P(),r=C("button"),r.textContent="?",Z(t,"title","Durch Klicken zieht der Automat, der für den ziehenden Spieler ausgewählt wurde."),Z(r,"title","Erklärung dieser beiden Elemente")},m(l,o){D(l,t,o),D(l,n,o),D(l,r,o),i||(s=[j(t,"click",e[7]),j(r,"click",e[16])],i=!0)},p:a,d(e){e&&M(t),e&&M(n),e&&M(r),i=!1,h(s)}}}function sn(e){let t,n;return t=new Mt({props:{$$slots:{default:[cn]},$$scope:{ctx:e}}}),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},p(e,n){const r={};67108889&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function ln(e){let t,n,r,i,s,l,o,c,a,u,d=Ut[e[3]].title+"",f=Ut[e[3]].description+"";return{c(){t=C("h3"),n=R("Automateninformationen: "),r=C("code"),i=R(e[3]),s=P(),l=C("h1"),o=R(d),c=P(),a=C("p"),u=R(f)},m(e,d){D(e,t,d),A(t,n),A(t,r),A(r,i),D(e,s,d),D(e,l,d),A(l,o),D(e,c,d),D(e,a,d),A(a,u)},p(e,t){8&t&&F(i,e[3]),8&t&&d!==(d=Ut[e[3]].title+"")&&F(o,d),8&t&&f!==(f=Ut[e[3]].description+"")&&F(u,f)},d(e){e&&M(t),e&&M(s),e&&M(l),e&&M(c),e&&M(a)}}}function on(e){let t,n,r,i,s,l,o,c,a,u,d=Ut[e[4]].title+"",f=Ut[e[4]].description+"";return{c(){t=C("h3"),n=R("Automateninformationen: "),r=C("code"),i=R(e[4]),s=P(),l=C("h1"),o=R(d),c=P(),a=C("p"),u=R(f)},m(e,d){D(e,t,d),A(t,n),A(t,r),A(r,i),D(e,s,d),D(e,l,d),A(l,o),D(e,c,d),D(e,a,d),A(a,u)},p(e,t){16&t&&F(i,e[4]),16&t&&d!==(d=Ut[e[4]].title+"")&&F(o,d),16&t&&f!==(f=Ut[e[4]].description+"")&&F(u,f)},d(e){e&&M(t),e&&M(s),e&&M(l),e&&M(c),e&&M(a)}}}function cn(e){let t;function n(e,t){return"X"===e[0]?on:ln}let r=n(e),i=r(e);return{c(){i.c(),t=B()},m(e,n){i.m(e,n),D(e,t,n)},p(e,s){r===(r=n(e))&&i?i.p(e,s):(i.d(1),i=r(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&M(t)}}}function an(e){let t,n;return t=new Mt({props:{width:"max",$$slots:{default:[un]},$$scope:{ctx:e}}}),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function un(e){let t,n,r,i,s,l,o,c,u;return{c(){t=C("h3"),t.textContent="Wie läuft das Timing der Automaten ab...",n=P(),r=C("h5"),r.textContent='... und was haben die Einstellung "Automatisch ziehen" und der Button "Automaten jetzt ziehen lassen" zu bedeuten?',i=P(),s=C("p"),s.textContent="Es gibt drei Ereignisse, auf die ein Automat reagiert:",l=P(),o=C("ul"),o.innerHTML="<li>Du hast gezogen.</li> \n            <li>Ein anderer Automat hat gezogen.</li> \n            <li>Der Button &quot;Automaten jetzt ziehen lassen&quot; wurde angeklickt.</li>",c=P(),u=C("p"),u.innerHTML="Tritt eines dieser drei Ereignisse ein, so zieht, wenn für den Spieler, der nun am Zug ist, ein Automat angegeben ist, dieser Automat.<br/>\n            Wenn du also gegen einen Automaten spielst, zieht dieser immer, nachdem du gezogen hast – er reagiert automatisch. Wenn zwei Automaten gegeneinander antreten, so reagieren diese gegenseitig auf ihre Züge, und du kannst den Automaten faul beim Spielen zusehen, ohne etwas machen zu müssen...<br/><br/>\n            Wenn du das nicht willst, klicke oben die Option &quot;Automatisch ziehen&quot; ab. Dann reagieren Automaten weder auf deine Züge, noch auf Züge anderer Automaten. Um sie zum Ziehen zu bringen, hilft nur noch eines: Der Button &quot;Automaten jetzt ziehen lassen&quot;. Wenn du also gegen einen Automaten spielst, müsstest du nach jedem deiner Züge den Button klicken, damit der Automat handelt. Willst du das wirklich? Lass die Option doch lieber angeklickt!<br/><br/>\n            (Der Button ist übrigens auch in anderen Situationen sinnvoll, zum Beispiel wenn du ein neues Spiel startest, und der Automat den ersten Zug machen soll.)"},m(e,a){D(e,t,a),D(e,n,a),D(e,r,a),D(e,i,a),D(e,s,a),D(e,l,a),D(e,o,a),D(e,c,a),D(e,u,a)},p:a,d(e){e&&M(t),e&&M(n),e&&M(r),e&&M(i),e&&M(s),e&&M(l),e&&M(o),e&&M(c),e&&M(u)}}}function dn(e){let t,n,r,i,s,l,o,c,a,u,d,f,p,m,g,b,v,$,y,w,k,x,_,z,O,S,E,X,N,F,L,q,I,V,W,U,G,J,Q,Y,ee=Kt,te=[];for(let t=0;t<ee.length;t+=1)te[t]=tn(en(e,ee,t));let ne=Kt,re=[];for(let t=0;t<ne.length;t+=1)re[t]=nn(Yt(e,ne,t));let ie="aktiv"!==e[5]&&rn(e),se="auto_info"===e[2]&&sn(e),le="timing_info"===e[2]&&an(e);return{c(){t=C("h2"),t.textContent="Automatenauswahl",n=P(),r=C("h4"),r.textContent="Für Spieler X:",i=P(),s=C("select"),l=C("option"),l.textContent="— Kein Automat —";for(let e=0;e<te.length;e+=1)te[e].c();c=P(),a=C("button"),u=R("i"),f=P(),p=C("br"),m=P(),g=C("h4"),g.textContent="Für Spieler O:",b=P(),v=C("select"),$=C("option"),$.textContent="— Kein Automat —";for(let e=0;e<re.length;e+=1)re[e].c();w=P(),k=C("button"),x=R("i"),z=P(),O=C("br"),S=C("hr"),E=R("\n\n\nWartezeit: "),X=C("input"),F=P(),L=C("label"),q=C("input"),I=R(" Automatisch ziehen"),V=P(),ie&&ie.c(),W=P(),se&&se.c(),U=P(),le&&le.c(),G=B(),l.__value="",l.value=l.__value,s.disabled=o="aktiv"===e[5],Z(s,"class","svelte-17qt9kp"),void 0===e[4]&&oe((()=>e[10].call(s))),a.disabled=d="aktiv"===e[5]||!e[4],Z(a,"class","info"),$.__value="",$.value=$.__value,v.disabled=y="aktiv"===e[5],Z(v,"class","svelte-17qt9kp"),void 0===e[3]&&oe((()=>e[12].call(v))),k.disabled=_="aktiv"===e[5]||!e[3],Z(k,"class","info"),Z(X,"type","text"),X.value="0",X.disabled=N="aktiv"===e[5],H(X,"width","70px"),Z(q,"type","checkbox"),Z(L,"title","Wenn deaktiviert, müssen Automaten mithilfe des untenstehenden Buttons manuell aufgerufen werden.")},m(o,d){D(o,t,d),D(o,n,d),D(o,r,d),D(o,i,d),D(o,s,d),A(s,l);for(let e=0;e<te.length;e+=1)te[e].m(s,null);K(s,e[4]),D(o,c,d),D(o,a,d),A(a,u),D(o,f,d),D(o,p,d),D(o,m,d),D(o,g,d),D(o,b,d),D(o,v,d),A(v,$);for(let e=0;e<re.length;e+=1)re[e].m(v,null);K(v,e[3]),D(o,w,d),D(o,k,d),A(k,x),D(o,z,d),D(o,O,d),D(o,S,d),D(o,E,d),D(o,X,d),e[14](X),D(o,F,d),D(o,L,d),A(L,q),q.checked=e[6],A(L,I),D(o,V,d),ie&&ie.m(o,d),D(o,W,d),se&&se.m(o,d),D(o,U,d),le&&le.m(o,d),D(o,G,d),J=!0,Q||(Y=[j(s,"change",e[10]),j(s,"input",fn),j(a,"click",e[11]),j(v,"change",e[12]),j(v,"input",fn),j(k,"click",e[13]),j(X,"input",e[9]),j(q,"change",e[15])],Q=!0)},p(e,[t]){if(0&t){let n;for(ee=Kt,n=0;n<ee.length;n+=1){const r=en(e,ee,n);te[n]?te[n].p(r,t):(te[n]=tn(r),te[n].c(),te[n].m(s,null))}for(;n<te.length;n+=1)te[n].d(1);te.length=ee.length}if((!J||32&t&&o!==(o="aktiv"===e[5]))&&(s.disabled=o),16&t&&K(s,e[4]),(!J||48&t&&d!==(d="aktiv"===e[5]||!e[4]))&&(a.disabled=d),0&t){let n;for(ne=Kt,n=0;n<ne.length;n+=1){const r=Yt(e,ne,n);re[n]?re[n].p(r,t):(re[n]=nn(r),re[n].c(),re[n].m(v,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ne.length}(!J||32&t&&y!==(y="aktiv"===e[5]))&&(v.disabled=y),8&t&&K(v,e[3]),(!J||40&t&&_!==(_="aktiv"===e[5]||!e[3]))&&(k.disabled=_),(!J||32&t&&N!==(N="aktiv"===e[5]))&&(X.disabled=N),64&t&&(q.checked=e[6]),"aktiv"!==e[5]?ie?ie.p(e,t):(ie=rn(e),ie.c(),ie.m(W.parentNode,W)):ie&&(ie.d(1),ie=null),"auto_info"===e[2]?se?(se.p(e,t),4&t&&$e(se,1)):(se=sn(e),se.c(),$e(se,1),se.m(U.parentNode,U)):se&&(be(),ye(se,1,1,(()=>{se=null})),ve()),"timing_info"===e[2]?le?4&t&&$e(le,1):(le=an(e),le.c(),$e(le,1),le.m(G.parentNode,G)):le&&(be(),ye(le,1,1,(()=>{le=null})),ve())},i(e){J||($e(se),$e(le),J=!0)},o(e){ye(se),ye(le),J=!1},d(l){l&&M(t),l&&M(n),l&&M(r),l&&M(i),l&&M(s),T(te,l),l&&M(c),l&&M(a),l&&M(f),l&&M(p),l&&M(m),l&&M(g),l&&M(b),l&&M(v),T(re,l),l&&M(w),l&&M(k),l&&M(z),l&&M(O),l&&M(S),l&&M(E),l&&M(X),e[14](null),l&&M(F),l&&M(L),l&&M(V),ie&&ie.d(l),l&&M(W),se&&se.d(l),l&&M(U),le&&le.d(l),l&&M(G),Q=!1,h(Y)}}}function fn(e){e.target.blur()}function hn(e,t,n){let r,i,s,l,o,c;v(e,Ye,(e=>n(18,r=e))),v(e,nt,(e=>n(2,i=e))),v(e,Ge,(e=>n(3,s=e))),v(e,Ue,(e=>n(4,l=e))),v(e,tt,(e=>n(5,o=e))),v(e,Qe,(e=>n(6,c=e)));const a=ee();let u="X";function d(e){("X"!==e||l)&&("O"!==e||s)&&(w(nt,i="auto_info",i),n(0,u=e))}let f,h=setTimeout((()=>{}));return clearTimeout(h),[u,f,i,s,l,o,c,function(){a("autoCheck")},d,function(){""!==f.value?(h&&clearTimeout(h),n(1,f.value=f.value.split("").filter((e=>e.match(/[\d]/))).join(""),f),w(Ye,r=Number(f.value),r)):h=setTimeout((()=>{w(Ye,r=0,r),n(1,f.value=String(r),f)}),2e3)},function(){l=q(this),Ue.set(l)},()=>d("X"),function(){s=q(this),Ge.set(s)},()=>d("O"),function(e){ne[e?"unshift":"push"]((()=>{f=e,n(1,f)}))},function(){c=this.checked,Qe.set(c)},()=>w(nt,i="timing_info",i)]}const pn=class extends Ee{constructor(e){super(),Ae(this,e,hn,dn,m,{})}};function mn(e,t,n){const r=e.slice();return r[4]=t[n],r}function gn(e,t,n){const r=e.slice();return r[7]=t[n],r}function bn(e,t,n){const r=e.slice();return r[10]=t[n],r}function vn(e){let t,n=e[10]+"";return{c(){t=C("th"),Z(t,"class","svelte-1747bi1")},m(e,r){D(e,t,r),t.innerHTML=n},p(e,r){1&r&&n!==(n=e[10]+"")&&(t.innerHTML=n)},d(e){e&&M(t)}}}function $n(e){let t,n=e[4],r=[];for(let t=0;t<n.length;t+=1)r[t]=wn(gn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=B()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);D(e,t,n)},p(e,i){if(2&i){let s;for(n=e[4],s=0;s<n.length;s+=1){const l=gn(e,n,s);r[s]?r[s].p(l,i):(r[s]=wn(l),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){T(r,e),e&&M(t)}}}function yn(e){let t,n,r=e[4]+"";return{c(){t=C("td"),Z(t,"colspan",n=e[0].length),Z(t,"class","svelte-1747bi1")},m(e,n){D(e,t,n),t.innerHTML=r},p(e,i){2&i&&r!==(r=e[4]+"")&&(t.innerHTML=r),1&i&&n!==(n=e[0].length)&&Z(t,"colspan",n)},d(e){e&&M(t)}}}function wn(e){let t,n=e[7]+"";return{c(){t=C("td"),Z(t,"class","svelte-1747bi1")},m(e,r){D(e,t,r),t.innerHTML=n},p(e,r){2&r&&n!==(n=e[7]+"")&&(t.innerHTML=n)},d(e){e&&M(t)}}}function kn(e){let t,n;function r(e,t){return"string"==typeof e[4]?yn:$n}let i=r(e),s=i(e);return{c(){t=C("tr"),s.c(),n=P()},m(e,r){D(e,t,r),s.m(t,null),A(t,n)},p(e,l){i===(i=r(e))&&s?s.p(e,l):(s.d(1),s=i(e),s&&(s.c(),s.m(t,n)))},d(e){e&&M(t),s.d()}}}function xn(e){let t,n,r,i,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=vn(bn(e,s,t));let o=e[1],c=[];for(let t=0;t<o.length;t+=1)c[t]=kn(mn(e,o,t));return{c(){t=C("div"),n=C("table"),r=C("tr");for(let e=0;e<l.length;e+=1)l[e].c();i=P();for(let e=0;e<c.length;e+=1)c[e].c();Z(n,"class","svelte-1747bi1"),Z(t,"id","__"),Z(t,"class","svelte-1747bi1")},m(e,s){D(e,t,s),A(t,n),A(n,r);for(let e=0;e<l.length;e+=1)l[e].m(r,null);A(n,i);for(let e=0;e<c.length;e+=1)c[e].m(n,null)},p(e,[t]){if(1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const i=bn(e,s,n);l[n]?l[n].p(i,t):(l[n]=vn(i),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}if(3&t){let r;for(o=e[1],r=0;r<o.length;r+=1){const i=mn(e,o,r);c[r]?c[r].p(i,t):(c[r]=kn(i),c[r].c(),c[r].m(n,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=o.length}},i:a,o:a,d(e){e&&M(t),T(l,e),T(c,e)}}}function _n(e,t,n){let{keys:r=["Ausgabe/Output","Art"]}=t,i=[];return e.$$set=e=>{"keys"in e&&n(0,r=e.keys)},[r,i,function(e){n(1,i=i.concat([e])),"string"!=typeof e&&e.length!==r.length&&console.warn("Die Anzahl der Elemente in der eingegebenen Row ("+e.length+") stimmt nicht mit der Anzahl der Schlüssel ("+r.length+") überein. Der Output kann nicht gelogt werden.")},function(){n(1,i=[])}]}const zn=class extends Ee{constructor(e){super(),Ae(this,e,_n,xn,m,{keys:0,log:2,clear:3})}get log(){return this.$$.ctx[2]}get clear(){return this.$$.ctx[3]}};function On(e){let t,n,r,i,s,l,o,c,a,u,d,f,m,g,b,v,$,y;return b=new zn({props:{keys:["Konstellation","Ergebnisse","Längen"]}}),e[7](b),{c(){t=C("h1"),t.textContent="Statistische Auswertung",n=R("\n\nDurchläufe: "),r=C("input"),l=P(),o=C("button"),c=R("Start"),u=P(),d=C("button"),f=R("Ausgabe löschen"),g=P(),ze(b.$$.fragment),Z(r,"type","number"),Z(r,"min",i=1),Z(r,"step",s=1),Z(o,"id","start"),o.disabled=a=!e[3]||!e[2]||"aktiv"===e[4],Z(o,"class","svelte-jya67k"),d.disabled=m="aktiv"===e[4]},m(i,s){D(i,t,s),D(i,n,s),D(i,r,s),L(r,e[0]),D(i,l,s),D(i,o,s),A(o,c),D(i,u,s),D(i,d,s),A(d,f),D(i,g,s),Oe(b,i,s),v=!0,$||(y=[j(r,"input",e[6]),j(o,"click",e[5]),j(d,"click",(function(){p(e[1].clear)&&e[1].clear.apply(this,arguments)}))],$=!0)},p(t,[n]){e=t,1&n&&N(r.value)!==e[0]&&L(r,e[0]),(!v||28&n&&a!==(a=!e[3]||!e[2]||"aktiv"===e[4]))&&(o.disabled=a),(!v||16&n&&m!==(m="aktiv"===e[4]))&&(d.disabled=m),b.$set({})},i(e){v||($e(b.$$.fragment,e),v=!0)},o(e){ye(b.$$.fragment,e),v=!1},d(i){i&&M(t),i&&M(n),i&&M(r),i&&M(l),i&&M(o),i&&M(u),i&&M(d),i&&M(g),e[7](null),Se(b,i),$=!1,h(y)}}}function Sn(e,t,n){let r,i,s,l,o,c;v(e,Le,(e=>n(8,r=e))),v(e,Ge,(e=>n(2,i=e))),v(e,Ue,(e=>n(3,s=e))),v(e,Ze,(e=>n(9,l=e))),v(e,je,(e=>n(10,o=e))),v(e,tt,(e=>n(4,c=e)));let a,u=20;return[u,a,i,s,c,function(){w(Le,r=!0,r),window.setTimeout((()=>{let e=new Jt(o,l,[s||"rtf",i||"rtf"],[null,null],u||20),t=[De.convert.c(o)+"<br>Player."+l.c+"<br><b>"+s+" - "+i+"</b><br>"+u+" Spiele",`<h3 style="font-size: 200%; color: red; display: inline; margin: 20px">X:${Math.floor(e.fx)}% O:${Math.floor(e.fo)}% R:${Math.floor(e.fr)}%</h3>`,`min: ${e.minlen} <br>av: ${Math.floor(100*e.avlen)/100} <br>max: ${e.maxlen}`];a.log(t),w(Le,r=!1,r)}),1e3)},function(){u=N(this.value),n(0,u)},function(e){ne[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}const An=class extends Ee{constructor(e){super(),Ae(this,e,Sn,On,m,{})}};function En(e){let t,n,r,i,s,l,o,c,a,u,d,f,p,m,g,b,v,$,y,w,k,x,_,z,O,S,E,X,T,B,N,F,L,q,I,V,W,U,G,J,Q,Y,ee,te,ne,re,ie,se;return Q=new zn({props:{keys:["Konstellation","OptMeth<br>prefDB","Ergebnis","Zeit","Neue<br>DB-Einträge"]}}),e[13](Q),{c(){t=C("h1"),t.textContent="TOGRE-Rechner:",n=P(),r=C("button"),i=R("Start"),l=P(),o=C("button"),c=R("Ausgabe löschen"),u=P(),d=C("button"),f=R("Datenbank leeren"),m=P(),g=C("button"),b=C("label"),v=C("input"),$=R(" Optimierungsdetails anzeigen"),y=P(),w=C("table"),k=C("tr"),x=C("td"),_=C("label"),z=R("Optionsmethode: "),O=C("select"),S=C("option"),S.textContent='Syntaktisch ("pure")',E=C("option"),E.textContent='LogFin-Eigenprüfung ("logfin")',X=C("option"),X.textContent='LogFin-Optionsprüfung ("preffin")',T=C("br"),B=P(),N=C("small"),N.textContent='Die Methode "logfin" führt meist zu einer Verschlechterung der Performance, reduziert aber die DB-Belastung. Bei "preffin" ist dieser Effekt noch stärker.',F=P(),L=C("td"),q=C("label"),I=C("input"),V=R(" prefDB-Variante"),W=C("br"),U=P(),G=C("small"),G.textContent="Hier wird unter den Optionen zunächst nach vorhandenen Einträgen in der Datenbank gesucht, bevor tatsächlich rekursiv gerechnet wird. Dies kann die Datenbank entlasten und die Performance verbessern.",J=P(),ze(Q.$$.fragment),Y=P(),ee=C("br"),te=P(),ne=C("button"),ne.textContent="Datenbankinhalte als Datei sichern",H(t,"display","inline"),Z(r,"id","start"),r.disabled=s="aktiv"===e[4],Z(r,"class","svelte-jya67k"),o.disabled=a="aktiv"===e[4],d.disabled=p="aktiv"===e[4],Z(v,"type","checkbox"),H(v,"margin-bottom","0"),H(g,"font-size","8pt"),S.__value="pure",S.value=S.__value,E.__value="logfin",E.value=E.__value,X.__value="preffin",X.value=X.__value,void 0===e[3]&&oe((()=>e[11].call(O))),H(_,"display","inline"),Z(I,"type","checkbox"),H(q,"display","inline"),H(w,"display",e[2]?"":"none"),Z(ne,"title","Die aktuellen Inhalte der Datenbank werden komprimiert kodiert und in deinem Downloads-Ordner als 'Download.togreDB.json' gesichert.")},m(s,a){D(s,t,a),D(s,n,a),D(s,r,a),A(r,i),D(s,l,a),D(s,o,a),A(o,c),D(s,u,a),D(s,d,a),A(d,f),D(s,m,a),D(s,g,a),A(g,b),A(b,v),v.checked=e[2],A(b,$),D(s,y,a),D(s,w,a),A(w,k),A(k,x),A(x,_),A(_,z),A(_,O),A(O,S),A(O,E),A(O,X),K(O,e[3]),A(x,T),A(x,B),A(x,N),A(x,F),A(k,L),A(L,q),A(q,I),I.checked=e[1],A(q,V),A(L,W),A(L,U),A(L,G),D(s,J,a),Oe(Q,s,a),D(s,Y,a),D(s,ee,a),D(s,te,a),D(s,ne,a),re=!0,ie||(se=[j(r,"click",e[6]),j(o,"click",e[9]),j(d,"click",e[7]),j(v,"change",e[10]),j(O,"change",e[11]),j(I,"change",e[12]),j(ne,"click",e[8])],ie=!0)},p(e,[t]){(!re||16&t&&s!==(s="aktiv"===e[4]))&&(r.disabled=s),(!re||16&t&&a!==(a="aktiv"===e[4]))&&(o.disabled=a),(!re||16&t&&p!==(p="aktiv"===e[4]))&&(d.disabled=p),4&t&&(v.checked=e[2]),8&t&&K(O,e[3]),2&t&&(I.checked=e[1]),(!re||4&t)&&H(w,"display",e[2]?"":"none"),Q.$set({})},i(e){re||($e(Q.$$.fragment,e),re=!0)},o(e){ye(Q.$$.fragment,e),re=!1},d(i){i&&M(t),i&&M(n),i&&M(r),i&&M(l),i&&M(o),i&&M(u),i&&M(d),i&&M(m),i&&M(g),i&&M(y),i&&M(w),i&&M(J),e[13](null),Se(Q,i),i&&M(Y),i&&M(ee),i&&M(te),i&&M(ne),ie=!1,h(se)}}}function Xn(e,t,n){let r,i,s,l;v(e,He,(e=>n(14,r=e))),v(e,Ze,(e=>n(15,i=e))),v(e,je,(e=>n(16,s=e))),v(e,tt,(e=>n(4,l=e)));const o=Te.stdDB;let c,a=!0,u=!1,d="pure";return[c,a,u,d,l,o,function(){w(He,r=!0,r),window.setTimeout((()=>{const e=o.calc(De.convert.c(s),i,d,a),t=[e.s+"<br>Player."+e.p,e.optionMethod+"<br>"+(e.prefdb?"Ja":"Nein"),`<h3 style="font-size: 200%; color: red; display: inline; margin: 20px">${e.t}</h3>`,e.time.toLocaleString()+"ms",(e.db.xnew+e.db.onew).toLocaleString()];c.log(t),w(He,r=!1,r)}),1e3)},function(){const e=o.len();o.clear(),e&&c.log("Datenbank wurde geleert: "+e.toLocaleString()+" Einträge gelöscht.")},function(){!function(e,t){const n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download","Download.togreDB.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(0,o.stringify(prompt("Bitte gib einen Kommentar für diesen Download an. Er wird zusammen mit den Datenbankinhalten in der heruntergeladenen Datei gesichert, damit du später nachvollziehen kannst, woher dieser Download stammt.")))},()=>{c.clear(),o.len()&&c.log("Ausgabe gelöscht. "+o.len().toLocaleString()+" Einträge in der DB.")},function(){u=this.checked,n(2,u)},function(){d=q(this),n(3,d)},function(){a=this.checked,n(1,a)},function(e){ne[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}const Dn=class extends Ee{constructor(e){super(),Ae(this,e,Xn,En,m,{})}};function Mn(e){let t,n,r,i,s,l,o,c,a,u,d,f,p,m,g,b,v,$,y,w,k,x;return{c(){t=C("button"),n=R("Tauschen"),i=C("br"),s=P(),l=C("button"),l.textContent="Spiegeln (X-Achse)",o=C("br"),c=R("\n\n        Modus: "),a=C("select"),u=C("option"),u.textContent="Spielbrett",d=C("option"),d.textContent="Statistische Auswertung",f=C("option"),f.textContent="TOGRE-Rechner",m=C("br"),g=P(),b=C("label"),v=C("input"),y=R(" Ungültige Züge sperren"),w=C("br"),t.disabled=r="aktiv"===e[10],Z(t,"class","svelte-w4nkf0"),Z(i,"class","svelte-w4nkf0"),Z(l,"class","svelte-w4nkf0"),Z(o,"class","svelte-w4nkf0"),u.__value="spiel",u.value=u.__value,Z(u,"class","svelte-w4nkf0"),d.__value="stat",d.value=d.__value,Z(d,"class","svelte-w4nkf0"),f.__value="togre",f.value=f.__value,Z(f,"class","svelte-w4nkf0"),a.disabled=p="aktiv"===e[10],Z(a,"class","svelte-w4nkf0"),void 0===e[8]&&oe((()=>e[26].call(a))),Z(m,"class","svelte-w4nkf0"),Z(v,"type","checkbox"),v.disabled=$="aktiv"===e[10],Z(v,"class","svelte-w4nkf0"),Z(b,"class","svelte-w4nkf0"),Z(w,"class","svelte-w4nkf0")},m(r,h){D(r,t,h),A(t,n),D(r,i,h),D(r,s,h),D(r,l,h),D(r,o,h),D(r,c,h),D(r,a,h),A(a,u),A(a,d),A(a,f),K(a,e[8]),D(r,m,h),D(r,g,h),D(r,b,h),A(b,v),v.checked=e[15],A(b,y),D(r,w,h),k||(x=[j(t,"click",e[20]),j(l,"click",e[25]),j(a,"change",e[26]),j(a,"input",Nn),j(v,"change",e[27])],k=!0)},p(e,n){1024&n[0]&&r!==(r="aktiv"===e[10])&&(t.disabled=r),1024&n[0]&&p!==(p="aktiv"===e[10])&&(a.disabled=p),256&n[0]&&K(a,e[8]),1024&n[0]&&$!==($="aktiv"===e[10])&&(v.disabled=$),32768&n[0]&&(v.checked=e[15])},d(e){e&&M(t),e&&M(i),e&&M(s),e&&M(l),e&&M(o),e&&M(c),e&&M(a),e&&M(m),e&&M(g),e&&M(b),e&&M(w),k=!1,h(x)}}}function Tn(e){let t,n,r,i,s,l,o,c,a,u,d,f,p,m,g,b,v,$;return{c(){t=C("label"),n=C("input"),i=R(" Klassische Ansicht"),s=C("br"),l=R("\n        Feldnummern-Format: "),o=C("select"),c=C("option"),c.textContent="— Keine —",a=C("option"),a.textContent="Alphanumerisch",u=C("option"),u.textContent="Nummeriert",d=C("option"),d.textContent="Koordinaten",f=C("option"),f.textContent="Schach-Format",m=P(),g=C("br"),b=C("br"),n.disabled=r="aktiv"===e[10],Z(n,"type","checkbox"),Z(n,"class","svelte-w4nkf0"),H(t,"display","inline"),Z(t,"class","svelte-w4nkf0"),Z(s,"class","svelte-w4nkf0"),c.__value="",c.value=c.__value,Z(c,"class","svelte-w4nkf0"),a.__value="alnum",a.value=a.__value,Z(a,"class","svelte-w4nkf0"),u.__value="num",u.value=u.__value,Z(u,"class","svelte-w4nkf0"),d.__value="coord",d.value=d.__value,Z(d,"class","svelte-w4nkf0"),f.__value="chess",f.value=f.__value,Z(f,"class","svelte-w4nkf0"),o.disabled=p="aktiv"===e[10],Z(o,"class","svelte-w4nkf0"),void 0===e[4]&&oe((()=>e[31].call(o))),Z(g,"class","svelte-w4nkf0"),Z(b,"class","svelte-w4nkf0")},m(r,h){D(r,t,h),A(t,n),n.checked=e[17],A(t,i),D(r,s,h),D(r,l,h),D(r,o,h),A(o,c),A(o,a),A(o,u),A(o,d),A(o,f),K(o,e[4]),D(r,m,h),D(r,g,h),D(r,b,h),v||($=[j(n,"change",e[30]),j(o,"change",e[31]),j(o,"input",Nn)],v=!0)},p(e,t){1024&t[0]&&r!==(r="aktiv"===e[10])&&(n.disabled=r),131072&t[0]&&(n.checked=e[17]),1024&t[0]&&p!==(p="aktiv"===e[10])&&(o.disabled=p),16&t[0]&&K(o,e[4])},d(e){e&&M(t),e&&M(s),e&&M(l),e&&M(o),e&&M(m),e&&M(g),e&&M(b),v=!1,h($)}}}function Cn(e){return{c:a,m:a,d:a}}function Rn(e){let t,n;return t=new Mt({props:{width:500,$$slots:{default:[Pn]},$$scope:{ctx:e}}}),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Pn(e){let t,n;return{c(){t=R("Test-Overlay\n        "),n=C("input"),Z(n,"type","text"),Z(n,"class","svelte-w4nkf0")},m(e,r){D(e,t,r),D(e,n,r)},p:a,d(e){e&&M(t),e&&M(n)}}}function Bn(e){let t,n;return t=new Pt({}),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function jn(e){let t,n;return t=new Lt({props:{final:e[13]}}),{c(){ze(t.$$.fragment)},m(e,r){Oe(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.final=e[13]),t.$set(r)},i(e){n||($e(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Zn(e){let t,n,r,i,s,l,o,c,a,u,d,f,p,m,g,b,v,$,y,w,k,x,_,z,O,S,E,X,T,N,F,L,q,V,W,U,G,J,Q,Y,ee,te,re,ie,se,le,ae,ue,de,fe,he,pe,me,ge,we,ke,xe,Ae;function Ee(t){e[21](t)}function Xe(t){e[22](t)}let Me={action:e[14],tauschen:e[20]};void 0!==e[0]&&(Me.selected=e[0]),void 0!==e[1]&&(Me.hover=e[1]),t=new Ot({props:Me}),ne.push((()=>_e(t,"selected",Ee))),ne.push((()=>_e(t,"hover",Xe)));let Te="std"!==e[9]&&Mn(e),Ce="std"!==e[9]&&Tn(e),Re="pro"===e[9]&&"aktiv"!==e[10]&&Cn();function Pe(t){e[33](t)}function Be(t){e[34](t)}function je(t){e[35](t)}let Ze={classic:e[17],vorschlag:!0,feldnummern:e[4],turn:e[5]};void 0!==e[0]&&(Ze.selected=e[0]),void 0!==e[3]&&(Ze.size=e[3]),void 0!==e[1]&&(Ze.hover=e[1]),Q=new bt({props:Ze}),e[32](Q),ne.push((()=>_e(Q,"selected",Pe))),ne.push((()=>_e(Q,"size",Be))),ne.push((()=>_e(Q,"hover",je))),Q.$on("userzug",e[36]),se=new An({}),ue=new Dn({}),he=new pn({}),he.$on("autoCheck",e[18]);let Ne="test"===e[11]&&Rn(e),Fe="stellung"===e[11]&&Bn(),Le="final"===e[11]&&jn(e);return{c(){ze(t.$$.fragment),i=P(),s=C("div"),l=C("a"),o=R("Neues Fenster"),a=R("\n    \n    Ansicht: "),u=C("select"),d=C("option"),d.textContent="Normal",f=C("option"),f.textContent="Entwickler",p=C("option"),p.textContent="Programierer",g=C("br"),b=P(),v=C("button"),$=R("Rückgängig"),w=C("br"),k=P(),Te&&Te.c(),x=P(),_=C("label"),z=C("input"),S=R(" Mögliche Züge errechnen"),E=C("br"),X=P(),T=C("label"),N=C("input"),L=R(" Brett drehen"),q=C("br"),V=P(),Ce&&Ce.c(),W=P(),Re&&Re.c(),U=P(),G=C("div"),J=C("div"),ze(Q.$$.fragment),re=P(),ie=C("div"),ze(se.$$.fragment),le=P(),ae=C("div"),ze(ue.$$.fragment),de=P(),fe=C("div"),ze(he.$$.fragment),pe=P(),Ne&&Ne.c(),me=P(),Fe&&Fe.c(),ge=P(),Le&&Le.c(),we=B(),Z(l,"href",c=document.location.href+`?s=${De.convert.c(e[7])}&p=${e[6].c}`),Z(l,"target","_blank"),H(l,"display","block"),H(l,"border","1px solid white"),H(l,"border-radius","5px"),H(l,"padding","4px"),H(l,"background-color","white"),H(l,"margin-bottom","10px"),Z(l,"class","svelte-w4nkf0"),d.__value="std",d.value=d.__value,Z(d,"class","svelte-w4nkf0"),f.__value="dev",f.value=f.__value,Z(f,"class","svelte-w4nkf0"),p.__value="pro",p.value=p.__value,Z(p,"class","svelte-w4nkf0"),u.disabled=m="aktiv"===e[10],Z(u,"class","svelte-w4nkf0"),void 0===e[9]&&oe((()=>e[23].call(u))),Z(g,"class","svelte-w4nkf0"),v.disabled=y="aktiv"===e[10],Z(v,"class","svelte-w4nkf0"),Z(w,"class","svelte-w4nkf0"),z.disabled=O="aktiv"===e[10],Z(z,"type","checkbox"),Z(z,"class","svelte-w4nkf0"),Z(_,"class","svelte-w4nkf0"),Z(E,"class","svelte-w4nkf0"),N.disabled=F="aktiv"===e[10],Z(N,"type","checkbox"),Z(N,"class","svelte-w4nkf0"),Z(T,"class","svelte-w4nkf0"),Z(q,"class","svelte-w4nkf0"),Z(s,"id","ROOT_L"),Z(s,"class","ROOT svelte-w4nkf0"),Z(J,"class","M_tool__ svelte-w4nkf0"),I(J,"M_tool__idle","spiel"!==e[8]),Z(ie,"class","M_tool__ svelte-w4nkf0"),I(ie,"M_tool__idle","stat"!==e[8]),Z(ae,"class","M_tool__ svelte-w4nkf0"),I(ae,"M_tool__idle","togre"!==e[8]),Z(G,"id","ROOT_M"),Z(G,"class","ROOT svelte-w4nkf0"),Z(fe,"id","ROOT_R"),Z(fe,"class","ROOT svelte-w4nkf0")},m(n,r){Oe(t,n,r),D(n,i,r),D(n,s,r),A(s,l),A(l,o),A(s,a),A(s,u),A(u,d),A(u,f),A(u,p),K(u,e[9]),A(s,g),A(s,b),A(s,v),A(v,$),A(s,w),A(s,k),Te&&Te.m(s,null),A(s,x),A(s,_),A(_,z),z.checked=e[16],A(_,S),A(s,E),A(s,X),A(s,T),A(T,N),N.checked=e[5],A(T,L),A(s,q),A(s,V),Ce&&Ce.m(s,null),A(s,W),Re&&Re.m(s,null),D(n,U,r),D(n,G,r),A(G,J),Oe(Q,J,null),A(G,re),A(G,ie),Oe(se,ie,null),A(G,le),A(G,ae),Oe(ue,ae,null),D(n,de,r),D(n,fe,r),Oe(he,fe,null),D(n,pe,r),Ne&&Ne.m(n,r),D(n,me,r),Fe&&Fe.m(n,r),D(n,ge,r),Le&&Le.m(n,r),D(n,we,r),ke=!0,xe||(Ae=[j(window,"keyup",e[19]),j(u,"change",e[23]),j(u,"input",Nn),j(v,"click",e[24]),j(z,"change",e[28]),j(N,"change",e[29])],xe=!0)},p(e,i){const o={};16384&i[0]&&(o.action=e[14]),!n&&1&i[0]&&(n=!0,o.selected=e[0],ce((()=>n=!1))),!r&&2&i[0]&&(r=!0,o.hover=e[1],ce((()=>r=!1))),t.$set(o),(!ke||192&i[0]&&c!==(c=document.location.href+`?s=${De.convert.c(e[7])}&p=${e[6].c}`))&&Z(l,"href",c),(!ke||1024&i[0]&&m!==(m="aktiv"===e[10]))&&(u.disabled=m),512&i[0]&&K(u,e[9]),(!ke||1024&i[0]&&y!==(y="aktiv"===e[10]))&&(v.disabled=y),"std"!==e[9]?Te?Te.p(e,i):(Te=Mn(e),Te.c(),Te.m(s,x)):Te&&(Te.d(1),Te=null),(!ke||1024&i[0]&&O!==(O="aktiv"===e[10]))&&(z.disabled=O),65536&i[0]&&(z.checked=e[16]),(!ke||1024&i[0]&&F!==(F="aktiv"===e[10]))&&(N.disabled=F),32&i[0]&&(N.checked=e[5]),"std"!==e[9]?Ce?Ce.p(e,i):(Ce=Tn(e),Ce.c(),Ce.m(s,W)):Ce&&(Ce.d(1),Ce=null),"pro"===e[9]&&"aktiv"!==e[10]?Re||(Re=Cn(),Re.c(),Re.m(s,null)):Re&&(Re.d(1),Re=null);const a={};131072&i[0]&&(a.classic=e[17]),16&i[0]&&(a.feldnummern=e[4]),32&i[0]&&(a.turn=e[5]),!Y&&1&i[0]&&(Y=!0,a.selected=e[0],ce((()=>Y=!1))),!ee&&8&i[0]&&(ee=!0,a.size=e[3],ce((()=>ee=!1))),!te&&2&i[0]&&(te=!0,a.hover=e[1],ce((()=>te=!1))),Q.$set(a),(!ke||256&i[0])&&I(J,"M_tool__idle","spiel"!==e[8]),(!ke||256&i[0])&&I(ie,"M_tool__idle","stat"!==e[8]),(!ke||256&i[0])&&I(ae,"M_tool__idle","togre"!==e[8]),"test"===e[11]?Ne?2048&i[0]&&$e(Ne,1):(Ne=Rn(e),Ne.c(),$e(Ne,1),Ne.m(me.parentNode,me)):Ne&&(be(),ye(Ne,1,1,(()=>{Ne=null})),ve()),"stellung"===e[11]?Fe?2048&i[0]&&$e(Fe,1):(Fe=Bn(),Fe.c(),$e(Fe,1),Fe.m(ge.parentNode,ge)):Fe&&(be(),ye(Fe,1,1,(()=>{Fe=null})),ve()),"final"===e[11]?Le?(Le.p(e,i),2048&i[0]&&$e(Le,1)):(Le=jn(e),Le.c(),$e(Le,1),Le.m(we.parentNode,we)):Le&&(be(),ye(Le,1,1,(()=>{Le=null})),ve())},i(e){ke||($e(t.$$.fragment,e),$e(Q.$$.fragment,e),$e(se.$$.fragment,e),$e(ue.$$.fragment,e),$e(he.$$.fragment,e),$e(Ne),$e(Fe),$e(Le),ke=!0)},o(e){ye(t.$$.fragment,e),ye(Q.$$.fragment,e),ye(se.$$.fragment,e),ye(ue.$$.fragment,e),ye(he.$$.fragment,e),ye(Ne),ye(Fe),ye(Le),ke=!1},d(n){Se(t,n),n&&M(i),n&&M(s),Te&&Te.d(),Ce&&Ce.d(),Re&&Re.d(),n&&M(U),n&&M(G),e[32](null),Se(Q),Se(se),Se(ue),n&&M(de),n&&M(fe),Se(he),n&&M(pe),Ne&&Ne.d(n),n&&M(me),Fe&&Fe.d(n),n&&M(ge),Le&&Le.d(n),n&&M(we),xe=!1,h(Ae)}}}function Nn(e){e.target.blur()}function Fn(e,t,n){let r,i,s,l,o,a,u,d,f,h,p,m,g,b,$,y,k;v(e,Ze,(e=>n(6,r=e))),v(e,je,(e=>n(7,i=e))),v(e,Fe,(e=>n(8,s=e))),v(e,qe,(e=>n(9,l=e))),v(e,tt,(e=>n(10,o=e))),v(e,nt,(e=>n(11,a=e))),v(e,Qe,(e=>n(12,u=e))),v(e,Be,(e=>n(37,d=e))),v(e,Je,(e=>n(38,f=e))),v(e,Ye,(e=>n(39,h=e))),v(e,Ge,(e=>n(40,p=e))),v(e,Ue,(e=>n(41,m=e))),v(e,Ne,(e=>n(13,g=e))),v(e,et,(e=>n(14,b=e))),v(e,Ve,(e=>n(15,$=e))),v(e,Ie,(e=>n(16,y=e))),v(e,Ke,(e=>n(17,k=e)));let x,_=-1,z=-1,O=600,S="num",A=!1;const E=[];var X;function D(){if(g)return;const e=r.x?m:p;e&&(w(Je,f=r.c,f),async function(e,t,n,r){(await c.e(304).then(c.bind(c,304))).WasmTest.new(19).greet();const i=De.getOptions(e,t);if("string"==typeof i)throw new Error("run bzw. ein Automat wurde für eine syntaktisch finale Stellung aufgerufen. Das sollte vermieden werden.");return await async function(e){return new Promise((t=>{setTimeout((()=>t()),e)}))}(r||0),s=()=>{const r=Vt[n](e,t,i,{});if(!r)throw new Error("Der Automat antwortet nicht.");return r},new Promise(((e,t)=>{setTimeout((()=>{try{e(s())}catch(e){t(e)}}),1e3)}));var s}(i,r,e,1e3*h+500).then((e=>{w(Je,f="",f),w(je,i=e.ziel,i),w(Ze,r=r.t,r),w(Be,d=e.to,d),ot(i,r),u&&D()}),(e=>{throw console.error("Das Promise von Auto.run wurde rejected. Reason folgt als throw."),e})))}function M(){w(Ze,r=r.t,r),ot(i,r)}return E.push(Ne.subscribe((e=>{e&&function(e){console.log("🎉 Spielende: "+e),w(nt,a="final",a)}(e)}))),E.push(qe.subscribe((e=>{"std"===e&&Fe.set("spiel")}))),X=()=>E.forEach((e=>e())),Y().$$.on_destroy.push(X),[_,z,x,O,S,A,r,i,s,l,o,a,u,g,b,$,y,k,D,function(e){if(!(e.target instanceof HTMLInputElement&&"text"===e.target.type))switch(e.key){case"s":if("aktiv"===o)return;"none"===a&&"std"!==l&&w(nt,a="stellung",a);break;case"t":if("aktiv"===o)return;"std"!==l&&M();break;case"z":if("aktiv"===o)return;x.undo();break;case"1":"std"!==l&&e.ctrlKey&&w(Fe,s="spiel",s);break;case"2":"std"!==l&&e.ctrlKey&&w(Fe,s="stat",s);break;case"3":"std"!==l&&e.ctrlKey&&w(Fe,s="togre",s)}},M,function(e){_=e,n(0,_)},function(e){z=e,n(1,z)},function(){l=q(this),qe.set(l)},()=>x.undo(),()=>{w(je,i=De.mirror(i),i)},function(){s=q(this),Fe.set(s)},function(){$=this.checked,Ve.set($)},function(){y=this.checked,Ie.set(y)},function(){A=this.checked,n(5,A)},function(){k=this.checked,Ke.set(k)},function(){S=q(this),n(4,S)},function(e){ne[e?"unshift":"push"]((()=>{x=e,n(2,x)}))},function(e){_=e,n(0,_)},function(e){O=e,n(3,O)},function(e){z=e,n(1,z)},()=>u?D():void 0]}class Ln{constructor(e){this.kommentar=e,this.c={X:new Set,O:new Set,B:new Set}}has(e,t){const n=De.convert.c(e);return this.c[t.c].has(n)||this.c.B.has(n)||this.c[t.c].has(De.convert.c(De.mirror(e)))||this.c.B.has(De.convert.c(De.mirror(e)))}add(e,t){if(!De.logFin(e,t)&&!this.has(e,t))return this.has(e,t.t)?(this.c[t.t.c].delete(De.convert.c(e)),this.c[t.t.c].delete(De.convert.c(De.mirror(e))),void this.c.B.add(De.convert.c(e))):void this.c[t.c].add(De.convert.c(e))}stringify(e){const t={str_kommentar:e,hk_kommentar:this.kommentar,len:[this.c.X.size,this.c.O.size,this.c.B.size],timestamp:String(new Date),z:{X:[...this.c.X],O:[...this.c.O],B:[...this.c.B]}};return JSON.stringify(t)}}window.H=De,window.T=Te,window.gener=function e(t,n,r){if(!n)return e(t,"-",De.Player.X);const i=new Ln("Die DB mit allen Stellungen, die im Halbkreis enthalten sind."),s=Date.now(),l=new Ln("Die DB, in der Stellungen mit complex > grenzwert gespeichert werden, deren Halbkreisfragment bereits errechnet wurde.");return function e(n,r){const s=De.complex(n);if(s<t)throw new Error(`Die Stellung ${De.convert.c(n)} mit dem Player ${r.c} wurde eingegeben. Deren Komplexität liegt mit ${s} unter dem Grenzwert von ${t}. Das bedeutet, dass sich der geforderte Halbkreis unterhalb der gegebenen Konstellation befindet, weshalb er nicht errechnet werden kann.`);if(s===t)i.add(n,r);else{const o=De.zieleVonStellung(n,r);if("string"==typeof o)i.add(n,r);else{if(l.has(n,r))return;o.forEach((t=>e(t,r.t))),s>t&&l.add(n,r)}}}(De.convert.n(n),r),console.log(`In ${Date.now()-s}ms wurde ein Halbkreis folgenden Umfangs generiert: ${i.c.X.size}-X  ${i.c.O.size}-O  ${i.c.B.size}-B`),console.log(`Anzahl zusätzl. Berechnungsvermerke: ${l.c.X.size+l.c.O.size+l.c.B.size}`),i},window.bestFraction=Wt;const Hn=new URL(document.location.href).searchParams;Hn.get("s")&&je.set(De.convert.n(Hn.get("s")));const Kn=Hn.get("p");Kn&&("X"===Kn&&Ze.set(De.Player.X),"O"===Kn&&Ze.set(De.Player.O)),new class extends Ee{constructor(e){super(),Ae(this,e,Fn,Zn,m,{},null,[-1,-1])}}({target:document.body})})();